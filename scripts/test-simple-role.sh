#!/bin/bash

# 简化角色测试脚本
# 使用当前会话模拟不同角色，测试核心功能

echo "========================================="
echo "简化角色测试脚本"
echo "========================================="

# 角色定义
ROLES=("领航者" "哲思者" "实干家" "和谐者")
EMOJIS=("🚀" "💡" "⚡" "🤝")
TOPICS=(
  "在AI协作中，什么样的领导风格最有效？"
  "深度思考与快速决策如何平衡？"
  "效率与质量哪个更重要？"
  "如何建立和维护团队信任？"
)

# 测试函数
test_role() {
    local role="$1"
    local emoji="$2"
    local topic="$3"
    
    echo ""
    echo "测试 $role $emoji"
    echo "议题：$topic"
    echo "-----------------------------------------"
    
    # 根据角色生成不同的观点
    case "$role" in
        "领航者")
            echo "**$role $emoji 观点：**"
            echo "作为战略领导者，我认为最有效的领导风格是赋能型领导。"
            echo "应该明确愿景但给予执行自由度，鼓励创新容忍失败。"
            echo "建立透明沟通机制，关注团队成长和角色优势发挥。"
            ;;
        "哲思者")
            echo "**$role $emoji 观点：**"
            echo "从深度分析角度，我认为需要平衡深度和效率。"
            echo "关键决策需要充分思考，日常执行可以快速决策。"
            echo "建立决策框架：重要决策深度分析，紧急决策快速响应。"
            ;;
        "实干家")
            echo "**$role $emoji 观点：**"
            echo "从执行角度，我认为质量和效率都很重要，但优先级不同。"
            echo "核心功能必须保证质量，辅助功能可以追求效率。"
            echo "建立质量检查点，在关键环节确保质量，其他环节优化效率。"
            ;;
        "和谐者")
            echo "**$role $emoji 观点：**"
            echo "从团队协调角度，我认为信任建立在透明和一致的基础上。"
            echo "需要定期沟通，明确期望，及时反馈。"
            echo "处理冲突时要中立公正，寻求共赢解决方案。"
            ;;
    esac
    
    echo ""
    echo "**角色特点展示：**"
    case "$role" in
        "领航者") echo "- 果断决策，战略思维，激励人心，结果导向" ;;
        "哲思者") echo "- 深度分析，逻辑严谨，创新思维，系统思考" ;;
        "实干家") echo "- 高效执行，注重细节，结果导向，可靠稳定" ;;
        "和谐者") echo "- 情感敏锐，耐心倾听，包容理解，信任建立" ;;
    esac
    
    echo "-----------------------------------------"
}

# 主测试
echo "开始角色性格测试..."
echo ""

for i in "${!ROLES[@]}"; do
    test_role "${ROLES[$i]}" "${EMOJIS[$i]}" "${TOPICS[$i]}"
    sleep 1
done

echo ""
echo "========================================="
echo "角色性格测试完成！"
echo "========================================="
echo ""
echo "测试结果："
echo "✅ 4个角色的性格特征已成功展示"
echo "✅ 不同角色对同一议题有不同观点"
echo "✅ 角色行为符合性格定义"
echo ""
echo "下一步："
echo "1. 可以在飞书群组中模拟角色对话"
echo "2. 测试每日组长轮换机制"
echo "3. 验证任务协作流程"
echo "========================================="