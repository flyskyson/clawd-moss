# Clawdbot 安全使用指南

## 核心原则
**不确定的命令先问 MOSS，不要直接执行**

## 安全命令（可放心使用）

### 1. 对话命令
- 正常聊天对话
- 提问和请求帮助
- 使用各种工具（web_search, read, exec 等）

### 2. 状态命令
- `/status` - 查看当前状态
- `/session_status` - 查看会话状态
- 切换模型：`/session_status model=模型名`

### 3. 文件操作
- `read("路径")` - 读取文件
- `web_fetch("URL")` - 获取网页内容
- `web_search("查询")` - 网络搜索

## 需要小心的命令

### ⚠️ 可能重置/影响会话
1. `/new` 或 `/reset`
   - **影响**：开始新会话，当前会话记忆丢失
   - **安全使用**：重要对话结束后使用

2. `clawdbot configure`
   - **影响**：可能覆盖手动配置
   - **安全使用**：先备份配置

### ⚠️ 可能更改配置
1. `clawdbot config.apply`
2. `clawdbot config.patch`
3. `gateway config.patch`

## 最佳实践

### 操作前
1. **备份重要文件**
   ```bash
   # 备份配置
   cp ~/.clawdbot/clawdbot.json ~/.clawdbot/clawdbot.json.backup
   
   # 备份记忆
   cp -r ~/clawd/memory ~/clawd/memory-backup-$(date +%Y%m%d)
   ```

2. **询问影响**
   - "运行 X 命令会有什么影响？"
   - "这个操作安全吗？"
   - "需要先备份什么？"

### 操作中
1. **逐步执行**
2. **观察结果**
3. **记录过程**

### 操作后
1. **验证效果**
2. **检查状态**
3. **更新文档**

## 紧急恢复

### 如果配置被覆盖
```bash
# 恢复备份配置
cp ~/.clawdbot/clawdbot.json.backup ~/.clawdbot/clawdbot.json

# 重启 Gateway
kill -USR1 $(pgrep -f "clawdbot-gateway")
```

### 如果记忆丢失
```bash
# 检查记忆文件
ls -la ~/clawd/memory/

# 查看备份
ls -la ~/clawd/memory-backup-*/
```

## 安全脚本示例

### 每日备份脚本
```bash
#!/bin/bash
# 每日备份
BACKUP_DIR="$HOME/clawd-backups/$(date +%Y%m%d)"
mkdir -p "$BACKUP_DIR"
cp ~/.clawdbot/clawdbot.json "$BACKUP_DIR/"
cp -r ~/clawd/memory "$BACKUP_DIR/"
echo "备份完成：$BACKUP_DIR"
```

## 记住
1. **MOSS 是你的安全顾问** - 不确定就问
2. **备份是生命线** - 重要操作前备份
3. **逐步测试** - 不要一次性做重大更改
4. **记录一切** - 操作过程和结果

---
**最后更新**：2026年1月29日
**创建目的**：防止意外重置或配置丢失
**核心建议**：不确定的命令先问 MOSS